<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blogs & Articles</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="blogstyle/style2.css" />
    <link rel="stylesheet" href="global.css">
  </head>
  <body>
    <!-- HEADER -->
    <header class="header-title-container">
      <div class="pro-container">
        <div class="title-nav-container">
          <a href="index.html"><h1>StreetDeli.</h1></a>
          <img
            src="img/nav2.jpg"
            width="25"
            height="25"
            alt="Navigation menu"
            class="nav-icon"
            onclick="toggleMenu()"
          />
        </div>
        <div class="icons">
          <span
            id="displayEmail"
            style="font-size: 20px; font-weight: bold; margin-right: 10px"
          ></span>
          <img
            class="profile-icon"
            id="profileIcon"
            src="img/pro2.png"
            width="40"
            height="40"
            alt="User profile"
          />
        </div>
      </div>
    </header>
    <hr />

    <!-- Dark Mode Toggle -->
    <div id="theme-toggle" title="Toggle Dark/Light Mode">
      <i class="bi bi-sun-fill"></i>
    </div>

    <!-- MAIN CONTENT -->
    <main>
      <!-- Breadcrumb -->
      <nav id="browse-route" aria-label="Breadcrumb">
        <a href="index.html">Home</a> /
        <a href="blogs.html">Blogs & Articles</a> /
        <span>Kuala Lumpur Street Food: Big City, Bold Flavors</span>
      </nav>

      <!-- Article -->
      <article class="articles-container">
        <header>
          <h2>Kuala Lumpur Street Food: Big City, Bold Flavors</h2>
        </header>

        <p class="cnt1">
          Kuala Lumpur’s street food reflects the energy of the city
          itself—fast-paced, diverse, and always exciting. Here, you can find
          both traditional Malaysian favorites and modern street food twists.
        </p>

        <div class="img-layout">
          <figure class="img-main">
            <img src="img/nasilemak.jpg" alt="Nasi Lemak" />
            <figcaption>Nasi Lemak</figcaption>
          </figure>
          <figure class="img-side">
            <img src="img/satay.jpg" alt="Satay" />
            <figcaption>Satay</figcaption>
          </figure>
          <figure class="img-side">
            <img src="img/apambalik.jpg" alt="Apam Balik" />
            <figcaption>Apam Balik</figcaption>
          </figure>
        </div>

        <section class="cnt2">
          <h4>Must-Try Street Foods in KL:</h4>
          <ul>
            <li>
              <strong>Nasi Lemak</strong> – Coconut milk rice served with
              sambal, fried anchovies, peanuts, cucumber, and boiled egg.
            </li>
            <li>
              <strong>Satay</strong> – Skewers of marinated meat grilled over
              charcoal, served with peanut sauce.
            </li>
            <li>
              <strong>Hokkien Mee</strong> – Thick yellow noodles stir-fried in
              dark soy sauce with pork, prawns, and cabbage.
            </li>
            <li>
              <strong>Apam Balik</strong> – A sweet peanut pancake snack, crispy
              on the outside and soft inside.
            </li>
          </ul>
        </section>

        <section class="cnt3">
          <h4>Best Spots to Explore:</h4>
          <ul>
            <li>
              <strong>Jalan Alor</strong> – The city’s most famous street food
              strip, packed with local and international flavors.
            </li>
            <li>
              <strong>Petaling Street (Chinatown)</strong> – Known for
              Chinese-Malaysian favorites like roasted chestnuts and wantan mee.
            </li>
            <li>
              <strong>Taman Connaught Night Market</strong> – One of the longest
              night markets in Malaysia.
            </li>
          </ul>
        </section>
      </article>

      <!-- SOCIAL MEDIA SHARE -->
      <div class="social-share-container">
        <p class="share-title">Share on:</p>

        <div class="social-sidebar">
          <!-- Facebook -->
          <a
            href="https://www.facebook.com/sharer/sharer.php?u=https://yourdomain.com/article.html"
            target="_blank"
            class="social-btn facebook"
            onclick="trackShare('facebook','blog3')"
          >
            <i class="bi bi-facebook"></i>
            <span class="share-count" id="facebook-blog3-count">0</span>
          </a>

          <!-- Twitter -->
          <a
            href="https://twitter.com/intent/tweet?url=https://yourdomain.com/article.html"
            target="_blank"
            class="social-btn twitter"
            onclick="trackShare('twitter','blog3')"
          >
            <i class="bi bi-twitter"></i>
            <span class="share-count" id="twitter-blog3-count">0</span>
          </a>

          <!-- WhatsApp -->
          <a
            href="https://api.whatsapp.com/send?text=Check%20this%20out:%20https://yourdomain.com/article.html"
            target="_blank"
            class="social-btn whatsapp"
            onclick="trackShare('whatsapp','blog3')"
          >
            <i class="bi bi-whatsapp"></i>
            <span class="share-count" id="whatsapp-blog3-count">0</span>
          </a>
        </div>
      </div>

      <!-- Bootstrap Icons -->
      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
      />

      <!-- Tags -->
      <section class="tag">
        <span>Tags:</span>
        <button type="button">KL</button>
        <button type="button">Nasi Lemak</button>
        <button type="button">Desserts</button>
      </section>

      <!-- Author -->
      <section class="author-info">
        <img src="img/fa1.jpg" alt="Author Julie Christie" />
        <div>
          <p class="aut-name">Julie Christie</p>
          <p class="aut-desc">
            A Malaysian writer and food enthusiast who loves exploring local
            street food and sharing the flavors of Malaysia with readers.
          </p>
        </div>
      </section>

      <!-- Previous / Next Navigation -->
      <section class="pre-next">
        <a href="blogsPng.html" class="pre">
          <img src="img/png.jpg" alt="Penang" />
          <div class="nav-content">
            <p class="pre-text">← Previous Post</p>
            <p class="pre-text-desc">
              Penang Street Food: Malaysia’s Flavor Capital
            </p>
          </div>
        </a>
        <a href="blogsjohor.html" class="next">
          <img src="img/jhr.jpg" alt="Johot" />
          <div class="nav-content">
            <p class="next-text">Next Post →</p>
            <p class="next-text-desc">
              Johor Street Food: Southern Flavors, Rich & Authentic
            </p>
          </div>
        </a>
      </section>

      <!-- FOOTER SECTION -->
      <div id="footer-placeholder"></div>
    </main>

    <script>
      function toggleMenu() {
        const menu = document.getElementById("overlay-menu");
        if (menu.style.display === "block") {
          menu.style.display = "none";
        } else {
          menu.style.display = "block";
        }
      }
      // Load menu dynamically
      fetch("menu.html")
        .then((response) => response.text())
        .then((data) => {
          document.body.insertAdjacentHTML("beforeend", data);

          // Now elements exist, safe to select them
          const toggleBtn = document.getElementById("theme-toggle");
          const navIcon = document.querySelector(".nav-icon");
          const profileIcon = document.querySelector(".profile-icon");

          // Load saved mode
          if (localStorage.getItem("theme") === "dark") {
            document.body.classList.add("dark-mode");
            if (navIcon) navIcon.src = "img/nav.jpg";
            if (profileIcon) profileIcon.src = "img/pro2.png";
          } else {
            if (navIcon) navIcon.src = "img/nav2.png";
            if (profileIcon) profileIcon.src = "img/profile.png";
          }

          // Toggle on click
          if (toggleBtn) {
            toggleBtn.addEventListener("click", () => {
              document.body.classList.toggle("dark-mode");

              if (document.body.classList.contains("dark-mode")) {
                localStorage.setItem("theme", "dark");
                if (navIcon) navIcon.src = "img/nav.jpg";
                if (profileIcon) profileIcon.src = "img/pro2.png";
              } else {
                localStorage.setItem("theme", "light");
                if (navIcon) navIcon.src = "img/nav2.png";
                if (profileIcon) profileIcon.src = "img/profile.png";
              }
            });
          }
        });

      // Load footer dynamically
      fetch("footer.html")
        .then((response) => response.text())
        .then((data) => {
          const footerPlaceholder =
            document.getElementById("footer-placeholder");
          if (footerPlaceholder) footerPlaceholder.innerHTML = data;
        });
    </script>

    <script>
      const API_BASE =
        "https://streetdelic-fbg0gchtavakeqhg.canadacentral-01.azurewebsites.net/api";
      const articleId = "blog3"; // unique ID for the article

      // Load share counts
      async function loadShareCounts() {
        try {
          const res = await fetch(`${API_BASE}/share/${articleId}`);
          if (!res.ok) throw new Error("Failed to load share counts");
          const data = await res.json();

          data.forEach((d) => {
            const span = document.getElementById(
              `${d.Platform.toLowerCase()}-${articleId}-count`
            );
            if (span) span.textContent = d.Count;
          });
        } catch (err) {
          console.error("Error loading share counts:", err);
        }
      }

      // Track share click
      async function trackShare(platform, articleId) {
        try {
          await fetch(`${API_BASE}/share`, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ platform, articleId }),
          });
          loadShareCounts(); // refresh counts
        } catch (err) {
          console.error("Error tracking share:", err);
        }
      }

      window.addEventListener("DOMContentLoaded", loadShareCounts);
    </script>
    <script src="auth2.js"></script>
  </body>
</html>
