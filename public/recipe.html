<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blogs & Articles</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="blogstyle/style4.css" />
    <link rel="stylesheet" href="global.css">
  </head>
  <body>
    <!-- HEADER -->
    <header class="header-title-container">
      <div class="pro-container">
        <div class="title-nav-container">
          <a href="index.html"><h1>StreetDeli.</h1></a>
          <img
            src="img/nav2.png"
            width="25"
            height="25"
            alt="Navigation menu"
            class="nav-icon"
            onclick="toggleMenu()"
          />
        </div>
        <div class="icons">
          <span
            id="displayEmail"
            style="font-size: 20px; font-weight: bold; margin-right: 10px"
          ></span>
          <img
            class="profile-icon"
            id="profileIcon"
            src="img/pro2.png"
            width="40"
            height="40"
            alt="User profile"
          />
        </div>
      </div>
    </header>
    <hr />

    <!-- Dark Mode Toggle -->
    <div id="theme-toggle" title="Toggle Dark/Light Mode">
      <i class="bi bi-sun-fill"></i>
    </div>

    <!-- MAIN CONTENT -->
    <main>
      <div class="container">
        <!-- Breadcrumb -->
        <nav id="browse-route" aria-label="Breadcrumb">
          <a href="index.html">Home</a> /
          <a href="blogs.html">Blogs & Articles</a> /
          <span>Recipe — How to Make Authentic Malaysian Nasi Lemak</span>
        </nav>

        <!-- Article -->
        <article class="articles-container">
          <header>
            <h2>Recipe — How to Make Authentic Malaysian Nasi Lemak</h2>
          </header>

          <p>
            If there’s one street food that unites Malaysians, it’s Nasi Lemak.
            Served everywhere from roadside stalls to fine dining restaurants,
            this dish is the perfect balance of creamy, spicy, and savory.
            Here’s how to make it at home.
          </p>

          <img src="img/nl.jpg" alt="Nasi Lemak" class="article-img" />

          <!-- Ingredients -->
          <section class="article-section">
            <h4>Ingredients (Serves 4)</h4>
            <ol>
              <li>
                <strong>For the Rice:</strong>
                <ul>
                  <li>2 cups jasmine rice</li>
                  <li>200ml coconut milk</li>
                  <li>2 pandan leaves (knotted)</li>
                  <li>2 cups water</li>
                  <li>1 tsp salt</li>
                </ul>
              </li>
              <li>
                <strong>For the Sambal:</strong>
                <ul>
                  <li>
                    10 dried chillies (soaked in hot water, seeds removed)
                  </li>
                  <li>5 fresh red chillies</li>
                  <li>3 shallots</li>
                  <li>2 cloves garlic</li>
                  <li>1 tbsp belacan (shrimp paste)</li>
                  <li>2 tbsp tamarind juice</li>
                  <li>2 tbsp sugar</li>
                  <li>Salt to taste</li>
                </ul>
              </li>
              <li>
                <strong>Accompaniments:</strong>
                <ul>
                  <li>4 boiled eggs (halved)</li>
                  <li>100g fried anchovies (ikan bilis)</li>
                  <li>50g roasted peanuts</li>
                  <li>Cucumber slices</li>
                  <li>Rendang or fried chicken (optional)</li>
                </ul>
              </li>
            </ol>
          </section>

          <!-- Instructions -->
          <section class="article-section">
            <h4>Instructions</h4>
            <ol>
              <li>
                <strong>Cook the Coconut Rice:</strong>
                <ul>
                  <li>Wash the rice until water runs clear.</li>
                  <li>
                    Place rice in a rice cooker with coconut milk, pandan
                    leaves, water, and salt.
                  </li>
                  <li>Cook until soft and fragrant.</li>
                </ul>
              </li>
              <li>
                <strong>Prepare the Sambal:</strong>
                <ul>
                  <li>
                    Blend dried chillies, fresh chillies, shallots, garlic, and
                    belacan into a smooth paste.
                  </li>
                  <li>
                    Heat oil in a pan and fry the paste over medium heat until
                    fragrant.
                  </li>
                  <li>
                    Add tamarind juice, sugar, and salt. Simmer until thick.
                  </li>
                </ul>
              </li>
              <li>
                <strong>Assemble the Nasi Lemak:</strong>
                <ul>
                  <li>Place a scoop of coconut rice on a plate.</li>
                  <li>Add sambal to the side.</li>
                  <li>
                    Arrange boiled egg, fried anchovies, peanuts, and cucumber
                    slices around the rice.
                  </li>
                  <li>Serve hot, with rendang or fried chicken if desired.</li>
                </ul>
              </li>
            </ol>
          </section>

          <!-- Tip -->
          <section class="article-section">
            <p class="cnt-tip">
              <strong>Tip:</strong> For the best flavor, use fresh coconut milk
              and fry the sambal slowly to deepen its taste.
            </p>
          </section>

          <section class="nasilemak-video-section">
            <!-- Video Container -->
            <div class="video-wrapper">
              <!-- YouTube player will load here -->
              <div id="nasilemak-video"></div>

              <p class="video-caption">
                Watch this step-by-step guide to cooking the perfect Nasi Lemak!
              </p>

              <!-- Fallback link -->
              <p>
                If the video doesn't play,
                <a
                  href="https://www.youtube.com/watch?v=VbTle9T6fDk"
                  target="_blank"
                >
                  click here to watch on YouTube </a
                >.
              </p>
            </div>
          </section>
        </article>
        <!-- SOCIAL MEDIA SHARE -->
        <div class="social-share-container">
          <p class="share-title">Share on:</p>

          <div class="social-sidebar">
            <!-- Facebook -->
            <a
              href="https://www.facebook.com/sharer/sharer.php?u=https://yourdomain.com/article.html"
              target="_blank"
              class="social-btn facebook"
              onclick="trackShare('facebook','blog5')"
            >
              <i class="bi bi-facebook"></i>
              <span class="share-count" id="facebook-blog5-count">0</span>
            </a>

            <!-- Twitter -->
            <a
              href="https://twitter.com/intent/tweet?url=https://yourdomain.com/article.html"
              target="_blank"
              class="social-btn twitter"
              onclick="trackShare('twitter','blog5')"
            >
              <i class="bi bi-twitter"></i>
              <span class="share-count" id="twitter-blog5-count">0</span>
            </a>

            <!-- WhatsApp -->
            <a
              href="https://api.whatsapp.com/send?text=Check%20this%20out:%20https://yourdomain.com/article.html"
              target="_blank"
              class="social-btn whatsapp"
              onclick="trackShare('whatsapp','blog5')"
            >
              <i class="bi bi-whatsapp"></i>
              <span class="share-count" id="whatsapp-blog5-count">0</span>
            </a>
          </div>
        </div>

        <!-- Bootstrap Icons -->
        <link
          rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
        />

        <!-- Tags -->
        <section class="tag article-section">
          <span>Tags:</span>
          <button type="button">Alor Setar</button>
          <button type="button">Laksa</button>
          <button type="button">Desserts</button>
        </section>

        <!-- Author -->
        <section class="author-info article-section">
          <img src="img/fa1.jpg" alt="Author Julie Christie" />
          <div>
            <p class="aut-name">Julie Christie</p>
            <p class="aut-desc">
              A Malaysian writer and food enthusiast who loves exploring local
              street food and sharing the flavors of Malaysia with readers.
            </p>
          </div>
        </section>

        <!-- Previous / Next Navigation -->
        <section class="pre-next article-section">
          <a href="blogsjohor.html" class="pre">
            <img src="img/kl.jpg" alt="Lemon water" />
            <div class="nav-content">
              <p class="pre-text">← Previous Post</p>
              <p class="pre-text-desc">
                Johor Street Food: Southern Flavors, Rich & Authentic
              </p>
            </div>
          </a>
          <a href="survey.html" class="next">
            <img src="img/png.jpg" alt="Sparkling wine" />
            <div class="nav-content">
              <p class="next-text">Next Post →</p>
              <p class="next-text-desc">
                Survey on Malaysians’ Favourite Street Food in Penang, Kuala
                Lumpur, and Kedah
              </p>
            </div>
          </a>
        </section>
      </div>
      <!-- FOOTER SECTION -->
      <div id="footer-placeholder"></div>
    </main>

    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
      function toggleMenu() {
        const menu = document.getElementById("overlay-menu");
        if (menu.style.display === "block") {
          menu.style.display = "none";
        } else {
          menu.style.display = "block";
        }
      }
      // Load menu dynamically
      fetch("menu.html")
        .then((response) => response.text())
        .then((data) => {
          document.body.insertAdjacentHTML("beforeend", data);

          // Now elements exist, safe to select them
          const toggleBtn = document.getElementById("theme-toggle");
          const navIcon = document.querySelector(".nav-icon");
          const profileIcon = document.querySelector(".profile-icon");

          // Load saved mode
          if (localStorage.getItem("theme") === "dark") {
            document.body.classList.add("dark-mode");
            if (navIcon) navIcon.src = "img/nav.jpg";
            if (profileIcon) profileIcon.src = "img/pro2.png";
          } else {
            if (navIcon) navIcon.src = "img/nav2.png";
            if (profileIcon) profileIcon.src = "img/profile.png";
          }

          // Toggle on click
          if (toggleBtn) {
            toggleBtn.addEventListener("click", () => {
              document.body.classList.toggle("dark-mode");

              if (document.body.classList.contains("dark-mode")) {
                localStorage.setItem("theme", "dark");
                if (navIcon) navIcon.src = "img/nav.jpg";
                if (profileIcon) profileIcon.src = "img/pro2.png";
              } else {
                localStorage.setItem("theme", "light");
                if (navIcon) navIcon.src = "img/nav2.png";
                if (profileIcon) profileIcon.src = "img/profile.png";
              }
            });
          }
        });

      // Load footer dynamically
      fetch("footer.html")
        .then((response) => response.text())
        .then((data) => {
          const footerPlaceholder =
            document.getElementById("footer-placeholder");
          if (footerPlaceholder) footerPlaceholder.innerHTML = data;
        });
    </script>

    <script>
      const API_BASE =
        "https://streetdelic-fbg0gchtavakeqhg.canadacentral-01.azurewebsites.net/api";
      const articleId = "blog5"; // unique ID for the article

      // Load share counts
      async function loadShareCounts() {
        try {
          const res = await fetch(`${API_BASE}/share/${articleId}`);
          if (!res.ok) throw new Error("Failed to load share counts");
          const data = await res.json();

          data.forEach((d) => {
            const span = document.getElementById(
              `${d.Platform.toLowerCase()}-${articleId}-count`
            );
            if (span) span.textContent = d.Count;
          });
        } catch (err) {
          console.error("Error loading share counts:", err);
        }
      }

      // Track share click
      async function trackShare(platform, articleId) {
        try {
          await fetch(`${API_BASE}/share`, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ platform, articleId }),
          });
          loadShareCounts(); // refresh counts
        } catch (err) {
          console.error("Error tracking share:", err);
        }
      }

      window.addEventListener("DOMContentLoaded", loadShareCounts);
    </script>
    <script src="auth2.js"></script>
  </body>
</html>
